module.exports=function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=41)}([function(e,t){e.exports=require("@babel/runtime/helpers/interopRequireDefault")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("mdn-polyfills/Node.prototype.remove")},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.bitSize=function(e,t){if(void 0===e||"-"===e)return e;"number"!=typeof e&&(e=Number(e));if(e<0)return"";var n=t&&["b","kb","mb","gb","tb","pb"]||["B","KB","MB","GB","TB","PB"],a=0;for(;e>=1024;){if(a>=5)return e+n[a];e/=1024,a++}return 0===e?e:Math.round(100*e)/100+n[a]},t.strToB=function(e){var t=(e=e.toUpperCase()).match(/[A-Z]+/i)[0],n=e.match(/[0-9]+/)[0];switch(t){case"KB":case"K":n*=1024;break;case"MB":case"M":n*=1048576;break;case"GB":case"G":n*=1073741824;break;case"TB":case"T":n*=1099511627776;break;case"PB":case"P":n*=0x4000000000000;break;case"EB":case"E":n*=0x1000000000000000}return n},t.formatDate=r,t.timeToDate=function(e,t){return r(new Date(e),t)},t.getOS=function(){var e="Others";navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Linux")>-1?e="Android":navigator.userAgent.indexOf("iPhone")>-1?e="iOS":navigator.userAgent.indexOf("Windows Phone")>-1?e="WP":window.navigator.userAgent.indexOf("Windows NT")>-1?e="Windows":window.navigator.userAgent.indexOf("Mac")>-1?e="Mac":window.navigator.userAgent.indexOf("X11")>-1?e="UNIX":window.navigator.userAgent.indexOf("Linux")>-1&&(e="Linux");return e},t.isIE=function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("msie")>-1)return e.match(/msie ([\d.]+)/)[1];return!1},t.intersect=function(e,t,n){var a={};for(var i in e)for(var r in t)if(JSON.stringify(e[i])===JSON.stringify(t[r])){a[r]=e[i];break}return n?Object.values(a):a},t.getSelected=function(e,t){var n={};if(void 0===e)return n;"object"===(0,i.default)(e)?e.forEach(function(e){n[e]=t[e]}):n[e]=t[e];return n},t.getExt=function(e){return e.slice(e.lastIndexOf(".")+1).toLowerCase()},t.baseName=function(e){return(e=e.toString()).replace(/\\/g,"/").replace(/.*\//,"")},t.dirName=function(e){return(e=e.toString()).indexOf("/")<0?"":e.replace(/\\/g,"/").replace(/\/[^/]*$/,"")};var i=a(n(14));function r(e,t){t=t||"yyyy-MM-dd hh:mm:ss";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[a]:("00"+n[a]).substr((""+n[a]).length)));return t}},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("@babel/runtime/helpers/typeof")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MenuItem=void 0;var i=a(n(22)),r=a(n(1)),o=a(n(2)),s=a(n(3)),u=a(n(4)),l=a(n(5)),d=a(n(9)),f=a(n(8)),c=a(n(6)),p=a(n(7)),h=a(n(10)),m=n(12),v=function(e){function t(e){var n;return(0,r.default)(this,t),n=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,d.default)((0,d.default)(n)),"handleClick",function(e){n.props.disabled||n.props.command&&(n.props.handleCommand(n.props.command),e.preventDefault(),e.stopPropagation())}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleDocumentKeyDown",function(e){e.keyCode===n.state.keyCode&&(n.handleClick(e),e.preventDefault())}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleDocumentKeyDownWithHelp",function(e){("META"!==n.state.helpKey||e.metaKey)&&("CTRL"!==n.state.helpKey||e.ctrlKey)&&("ALT"!==n.state.helpKey||e.altKey)&&("SHIFT"!==n.state.helpKey||e.shiftKey)&&e.keyCode===n.state.keyCode&&(n.handleClick(e),e.preventDefault())}),n.state={helpKey:void 0,keyCode:void 0,shortcut:""},n.special={65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",8:"BackSpace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"Cape Lock",27:"Esc",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",144:"Num Lock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"showRight",value:function(){return this.state.shortcut||this.props.menu||this.props.after}},{key:"initShortcut",value:function(e,t){void 0!==t?"Mac"===(0,m.getOS)()&&"META"===t?this.shortcut="âŒ˜"+this.special[e]:this.shortcut=t.slice(0,1)+t.slice(1).toLowerCase()+"+"+this.special[e]:this.shortcut=this.special[e],this.setState({keyCode:e,helpKey:t,shortcut:""}),void 0===t?document.addEventListener("keydown",this.handleDocumentKeyDown):document.addEventListener("keydown",this.handleDocumentKeyDownWithHelp)}},{key:"componentDidMount",value:function(){if(this.props.keymap){var e=this.props.keymap.toUpperCase();switch((0,m.getOS)()){case"Mac":if(e.indexOf("+")>-1){var t=e.split("+"),n=(0,i.default)(t,2),a=n[0],r=n[1];"FORCECTRL"===a?a="CTRL":["CTRL","META"].indexOf(a)>-1&&(a="META"),this.initShortcut(r,a)}else this.initShortcut(e);break;case"Windows":case"Linux":if(e.indexOf("+")>-1){var o=e.split("+"),s=(0,i.default)(o,2),u=s[0],l=s[1];this.initShortcut(l,u)}else this.initShortcut(e)}}}},{key:"componentWillUnmount",value:function(){void 0===this.state.helpKey?document.removeEventListener("keydown",this.handleDocumentKeyDown):document.removeEventListener("keydown",this.handleDocumentKeyDownWithHelp)}},{key:"render",value:function(){var e,t=(0,h.default)((e={},(0,f.default)(e,this.props.className,!!this.props.className),(0,f.default)(e,"gk-menu-item",!0),(0,f.default)(e,"gk-menu-item-disabled",this.props.disabled),e)),n=this.props.icon&&c.default.createElement("i",{className:this.props.icon}),a="";if(this.showRight()){var i=this.props.after&&this.props.after,r=this.state.shortcut&&c.default.createElement("em",null,this.state.shortcut),o=this.props.menu&&c.default.createElement("i",{className:"gk-icon-caretright"});a=c.default.createElement("span",{className:"gk-menu-item-right"},i,r,o)}return c.default.createElement("li",{className:t,onClick:this.handleClick,"aria-disabled":this.props.disabled},n,this.props.children,a,this.props.menu&&c.default.cloneElement(this.props.menu,{target:this}))}}]),t}(c.default.Component);t.MenuItem=v,v.propTypes={className:p.default.string,divided:p.default.bool,disabled:p.default.bool,command:p.default.any,icon:p.default.string,keymap:p.default.string,handleCommand:p.default.func,children:p.default.any,after:p.default.element,menu:p.default.element};var g=v;t.default=g},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(n){function a(e){var t;return(0,r.default)(this,a),t=(0,s.default)(this,(0,u.default)(a).call(this,e)),(0,f.default)((0,d.default)((0,d.default)(t)),"show",function(e){t.dom=e,t.showMenu()}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleTargetClick",function(e){t.state.visible?t.hideMenu():t.showMenu(),e.preventDefault(),e.stopPropagation()}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleContextMenu",function(e){t.dom={mouse:!0,left:e.clientX,top:e.clientY,height:0,width:0},t.showMenu(),e.preventDefault(),e.stopPropagation()}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleMouseEnter",function(){clearTimeout(t.timer),t.showMenu()}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleMouseLeave",function(){t.timer=setTimeout(function(){t.hideMenu()},100)}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleMenuTransitionEnd",function(e){!1===t.state.visible&&(e.target.style.display="none")}),(0,f.default)((0,d.default)((0,d.default)(t)),"handleDocumentClick",function(){t.state.visible&&t.hideMenu()}),t.dom=null,t.menu=null,t.timer=0,t.state={visible:!1},t}return(0,l.default)(a,n),(0,o.default)(a,[{key:"addTargetEvent",value:function(){switch(this.props.trigger||t){case"click":this.dom.addEventListener("click",this.handleTargetClick);break;case"contextmenu":this.dom.addEventListener("contextmenu",this.handleContextMenu);break;case"hover":this.dom.addEventListener("mouseenter",this.handleMouseEnter),this.dom.addEventListener("mouseleave",this.handleMouseLeave),this.menu.addEventListener("mouseenter",this.handleMouseEnter),this.menu.addEventListener("mouseleave",this.handleMouseLeave)}}},{key:"hideMenu",value:function(){this.setState({visible:!1})}},{key:"showMenu",value:function(){this.setState({visible:!0})}},{key:"componentDidMount",value:function(){this.props.target&&(this.dom=p.default.findDOMNode(this.props.target.current||this.props.target),this.addTargetEvent()),document.addEventListener("click",this.handleDocumentClick),this.menu.addEventListener("transitionend",this.handleMenuTransitionEnd)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick),this.menu.remove()}},{key:"renderList",value:function(){var e=this,t=[];return void 0!==this.props.data?this.props.data.forEach(function(n,a){n.divided&&t.push(c.default.createElement("li",{className:"gk-menu-divided"})),t.push(c.default.createElement(h.default,(0,i.default)({},n,{handleCommand:e.props.command,key:a,menu:void 0!==n.children?c.default.createElement(m.default,{data:n.children,command:e.props.command}):void 0}),n.label))}):c.default.Children.map(this.props.children,function(n,a){void 0!==n.props.divided&&t.push(c.default.createElement("li",{className:"gk-menu-divided"})),t.push(c.default.cloneElement(n,{key:a,handleCommand:e.props.command}))}),t}},{key:"render",value:function(){var t=this;return c.default.createElement(e,(0,i.default)({},this.props,{list:this.renderList(),targetDom:this.dom,visible:this.state.visible,ref:function(e){return t.menu=p.default.findDOMNode(e)}}))}}]),a}(c.default.Component)};var i=a(n(15)),r=a(n(1)),o=a(n(2)),s=a(n(3)),u=a(n(4)),l=a(n(5)),d=a(n(9)),f=a(n(8));n(11);var c=a(n(6)),p=a(n(13)),h=a(n(16)),m=a(n(19))},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1)),r=a(n(2)),o=a(n(3)),s=a(n(4)),u=a(n(5)),l=a(n(6)),d=a(n(7)),f=a(n(17)),c=function(e){function t(e){var n;return(0,i.default)(this,t),(n=(0,o.default)(this,(0,s.default)(t).call(this,e))).menu=void 0,n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"handleCommand",value:function(e){this.props.command(e),this.hideMenu()}},{key:"showMenu",value:function(){var e=this;this.menu.style.display="block",this.setPosition(),window.requestAnimationFrame(function(){e.menu.style.opacity="1"})}},{key:"hideMenu",value:function(){this.menu.style.opacity="0.01"}},{key:"setPosition",value:function(){var e=window.getComputedStyle(this.menu),t=this.props.targetDom.clientWidth,n=this.props.targetDom.offsetTop-parseInt(e.paddingTop);this.menu.style.left=t+"px",this.menu.style.top=n+"px";var a=this.menu.getBoundingClientRect();a.left+this.menu.clientWidth>window.innerWidth&&(t=-this.menu.clientWidth,this.menu.style.left=t+"px");var i=a.top+this.menu.clientHeight+parseInt(e.marginBottom)-window.innerHeight;i>0&&(n-=i,this.menu.style.top=n+"px")}},{key:"componentDidUpdate",value:function(){this.props.visible?this.showMenu():this.hideMenu()}},{key:"render",value:function(){var e=this;return l.default.createElement("ul",{className:"gk-menu gk-sub-menu",ref:function(t){return e.menu=t}},this.props.list)}}]),t}(l.default.Component);c.propTypes={visible:d.default.bool,targetDom:d.default.object,list:d.default.array,target:d.default.object,trigger:d.default.string,command:d.default.func};var p=(0,f.default)(c,"hover");t.default=p},,function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1)),r=a(n(2)),o=a(n(3)),s=a(n(4)),u=a(n(5)),l=a(n(9)),d=a(n(8)),f=a(n(6)),c=a(n(7)),p=a(n(10)),h=a(n(17)),m=function(e){function t(e){var n;return(0,i.default)(this,t),n=(0,o.default)(this,(0,s.default)(t).call(this,e)),(0,d.default)((0,l.default)((0,l.default)(n)),"handleWindowResize",function(){n.props.visible&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.setPosition()},100))}),n.timer=0,n.menu=n.arrow=void 0,n}return(0,u.default)(t,e),(0,r.default)(t,[{key:"showMenu",value:function(){var e=this;"BODY"!==this.menu.parentNode.nodeName&&document.body.appendChild(this.menu),this.menu.style.display="block",this.setPosition(),window.requestAnimationFrame(function(){e.menu.style.opacity="1"}),this.props.onChange&&this.props.onChange(!0)}},{key:"hideMenu",value:function(){this.menu.style.opacity="0.01",this.props.onChange&&this.props.onChange(!1)}},{key:"setPosition",value:function(){this.position=this.props.targetDom.mouse?this.props.targetDom:this.props.targetDom.getBoundingClientRect();var e=this.getPosition(this.props.placement),t=e.left,n=e.top;if(this.menu.style.left=t+"px",this.menu.style.top=n+"px",this.props.arrow){this.position.top>n&&this.arrow.classList.add("gk-menu-arrow-top");var a=window.getComputedStyle(this.arrow);this.arrow.style.left=this.position.left-t+this.position.width/2-parseInt(a.borderWidth)+"px"}}},{key:"getPosition",value:function(e){var t,n,a=this.position,i=window.getComputedStyle(this.menu),r={topTop:a.top+window.pageYOffset-this.menu.clientHeight-parseInt(i.marginTop)-parseInt(i.marginBottom),bottomTop:a.top+window.pageYOffset+a.height,startLeft:a.left+window.pageXOffset,centerLeft:a.left+window.pageXOffset-(this.menu.clientWidth-a.width)/2,endLeft:a.left+window.pageXOffset-this.menu.clientWidth+a.width},o=r.topTop,s=r.bottomTop,u=r.startLeft,l=r.centerLeft,d=r.endLeft;switch(e){case"top":t=l,n=o;break;case"top-start":t=u,n=o;break;case"top-end":t=d,n=o;break;case"bottom":t=l,n=s;break;case"bottom-start":t=u,n=s;break;case"bottom-end":t=d,n=s}return n<0&&(n=s),a.top+a.height+this.menu.clientHeight-parseInt(i.marginTop)>window.innerHeight&&(n=o),t<0&&(t=l)<0&&(t=u),t+this.menu.clientWidth>window.innerWidth&&(t=l)+this.menu.clientWidth>window.innerWidth&&(t=d),{left:t,top:n}}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(){this.props.visible?this.showMenu():this.hideMenu()}},{key:"render",value:function(){var e=this,t=this.props.list;this.props.arrow&&t.push(f.default.createElement("div",{key:"-1",className:"gk-menu-arrow",ref:function(t){return e.arrow=t}}));var n=(0,p.default)((0,d.default)({"gk-menu":!0},this.props.className,!!this.props.className));return f.default.createElement("ul",{className:n,style:this.props.style,ref:function(t){return e.menu=t}},t)}}]),t}(f.default.Component);m.propTypes={style:c.default.object,className:c.default.string,visible:c.default.bool,targetDom:c.default.object,list:c.default.array,command:c.default.func,data:c.default.array,target:c.default.object,arrow:c.default.bool,trigger:c.default.string,placement:c.default.string,onChange:c.default.func},m.defaultProps={placement:"bottom-start"};var v=(0,h.default)(m,"click");t.default=v},function(e,t){e.exports=require("@babel/runtime/helpers/slicedToArray")},,,,,,function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(30)),r=a(n(31));i.default.Group=r.default;var o=i.default;t.default=o},,function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(8)),r=a(n(1)),o=a(n(2)),s=a(n(3)),u=a(n(4)),l=a(n(5)),d=a(n(6)),f=a(n(7)),c=a(n(10)),p=function(e){function t(e){return(0,r.default)(this,t),(0,s.default)(this,(0,u.default)(t).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=(0,c.default)((e={},(0,i.default)(e,this.props.className,!!this.props.className),(0,i.default)(e,"gk-button",!0),(0,i.default)(e,"gk-button-plain",this.props.plain),(0,i.default)(e,"gk-button-active",this.props.isActive),(0,i.default)(e,"gk-button--"+this.props.size,["medium","small","mini"].indexOf(this.props.size)>-1),(0,i.default)(e,"gk-button--"+this.props.type,["primary","success","info","warning","danger"].indexOf(this.props.type)>-1),e)),n="";this.props.icon&&(n=d.default.createElement("i",{className:this.props.icon}));var a={className:t,style:this.props.style,onClick:this.props.onClick};return"html"===this.props.type?d.default.createElement("div",a,n,this.props.children):"text"===this.props.type?d.default.createElement("span",a,n,this.props.children):d.default.createElement("button",a,n,this.props.children)}}]),t}(d.default.Component);p.defaultProps={type:"button"},p.propTypes={onClick:f.default.func,style:f.default.object,isActive:f.default.bool,className:f.default.string,size:f.default.string,plain:f.default.bool,icon:f.default.string,type:f.default.string,children:f.default.any};var h=p;t.default=h},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(8)),r=a(n(1)),o=a(n(2)),s=a(n(3)),u=a(n(4)),l=a(n(5)),d=a(n(6)),f=a(n(10)),c=a(n(7)),p=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=d.default.Children.map(this.props.children,function(t){return e.props.plain&&d.default.cloneElement(t,{plain:e.props.plain})||t});return d.default.createElement("div",{className:(0,f.default)((0,i.default)({"gk-button-group":!0},this.props.className,!!this.props.className)),style:this.props.style},t)}}]),t}(d.default.Component);p.propTypes={style:c.default.object,className:c.default.string,plain:c.default.bool,children:c.default.any};var h=p;t.default=h},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(21)),r=a(n(16)),o=a(n(19));i.default.Item=r.default,i.default.Submenu=o.default;var s=i.default;t.default=s},,,,,,,,,function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(42)).default;t.default=i},function(e,t,n){"use strict";var a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(18)),r=a(n(1)),o=a(n(2)),s=a(n(3)),u=a(n(4)),l=a(n(5)),d=a(n(9)),f=a(n(8)),c=a(n(6)),p=a(n(7)),h=a(n(10)),m=a(n(28)),v=a(n(32)),g=function(e){function t(e){var n;return(0,r.default)(this,t),n=(0,s.default)(this,(0,u.default)(t).call(this,e)),(0,f.default)((0,d.default)((0,d.default)(n)),"handleShowMenu",function(e){n.moreRef.show(e.target),e.nativeEvent.stopImmediatePropagation()}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleGoto",function(e){if("Enter"===e.key){if(n.handleChangeMode("normal"),e.target.value===n.current)return;n.$emit("navigator",n.value)}}),(0,f.default)((0,d.default)((0,d.default)(n)),"handlePrevNext",function(e){e>0?n.$emit("next"):n.$emit("prev")}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleClick",function(e,t){e[n.value]!==n.current&&n.$emit("click navigator",e[n.props.value],e,n.findIndex(e),t)}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleChangeMode",function(e,t){var a=e;switch(e){case"input":void 0!==n.props.onNavigator&&(a=e)}n.inset=!0,n.setState({mode:a}),t&&t.nativeEvent.stopImmediatePropagation()}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleChange",function(){if(n.props.data.length){n.current=n.props.data[n.props.data.length-1][n.props.value];var e=Array.from(n.props.data);setTimeout(function(){for(var t=n.listRef.children,a=t[0].clientWidth+38,i=[],r=t.length-1;r>0;r--)if((a+=t[r].clientWidth)>=n.width&&r!==t.length-1){i=e.splice(1,r);break}n.inset=!0,n.setState({list:e,menu:i})},100)}}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleDocumentClick",function(){"input"===n.state.mode&&n.setState({mode:"normal"})}),(0,f.default)((0,d.default)((0,d.default)(n)),"handleWindowResize",function(){"normal"===n.state.mode&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.handleChange()},500))}),n.width=0,n.current="",n.timer=0,n.state={list:[],menu:[],mode:"normal"},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"$emit",value:function(){var e=this,t=arguments[0],n=Array.prototype.slice.apply(arguments);n=n.slice(1),t.split(" ").map(function(t){var a;t="on"+t[0].toUpperCase()+t.substring(1),"function"==typeof e.props[t]&&(a=e.props)[t].apply(a,(0,i.default)(n))})}},{key:"findIndex",value:function(e){if(this.props.id){for(var t=0;t<this.props.data.length;t++)if(this.props.data[t][this.props.id]===e[this.props.id])return t}else for(var n=0;n<this.props.data.length;n++)if(JSON.stringify(this.props.data[n])===JSON.stringify(e))return n;return-1}},{key:"componentDidMount",value:function(){this.width=this.elRef.clientWidth-26,this.props.showNav&&(this.width=this.width-this.opsRef.clientWidth),this.handleChange(),document.addEventListener("click",this.handleDocumentClick),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function(){this.inset?this.inset=!1:this.handleChange()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick),window.removeEventListener("resize",this.handleWindowResize)}},{key:"renderItem",value:function(e,t,n){var a=this;return c.default.createElement("li",{key:n,className:"gk-breadcrumb-item"},n<e.length-1&&c.default.createElement(c.default.Fragment,null,c.default.createElement("a",{href:"javascript:void(0)",title:t[this.props.label],onClick:function(e){return a.handleClick(t,e)}},t[this.props.label]),c.default.createElement("i",{className:"gk-icon-angleright"}))||c.default.createElement("span",{title:t[this.props.label],onClick:function(e){return a.handleChangeMode("input",e)}},t[this.props.label]))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"gk-breadcrumb",ref:function(t){return e.elRef=t},style:this.props.style},this.props.showNav&&c.default.createElement(m.default.Group,{ref:function(t){return e.opsRef=t},className:"gk-breadcrumb-ops",plain:!0},c.default.createElement(m.default,{icon:"gk-icon-angleleft",onClick:function(){return e.handlePrevNext(-1)}}),c.default.createElement(m.default,{icon:"gk-icon-angleright",onClick:function(){return e.handlePrevNext(-1)}})),c.default.createElement("ul",{ref:function(t){return e.listRef=t},className:(0,h.default)((0,f.default)({"gk-breadcrumb-list":!0},"gk-breadcrumb-"+("full"===this.state.mode?"full":"hidden"),!0))},this.props.data.map(function(t,n){return e.renderItem(e.props.data,t,n)})),"input"===this.state.mode&&c.default.createElement("input",{className:"gk-breadcrumb-input",defaultValue:this.current,autoFocus:!0,onClick:function(e){return e.nativeEvent.stopImmediatePropagation()},onKeyPress:this.handleGoto}),"normal"===this.state.mode&&c.default.createElement("ul",{className:"gk-breadcrumb-list"},this.state.list.map(function(t,n){return c.default.createElement(c.default.Fragment,{key:n},e.state.menu.length>0&&1===n&&c.default.createElement("li",{key:n+100,className:"gk-breadcrumb-item"},c.default.createElement("a",{href:"javascript:void(0)",onClick:e.handleShowMenu},"..."),c.default.createElement("i",{className:"gk-icon-angleright"})),e.renderItem(e.state.list,t,n))})),c.default.createElement(v.default,{ref:function(t){return e.moreRef=t},arrow:!0,command:this.handleClick},this.state.menu.map(function(t,n){return c.default.createElement(v.default.Item,{key:n,command:t},t[e.props.label])})))}}]),t}(c.default.Component);g.propTypes={style:p.default.object,data:p.default.array,label:p.default.string,value:p.default.string,showNav:p.default.bool,id:p.default.string,onNavigator:p.default.func,onClick:p.default.func},g.defaultProps={label:"label",value:"value"};var y=g;t.default=y}]);